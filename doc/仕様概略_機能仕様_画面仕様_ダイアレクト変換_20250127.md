## ダイアレクト変換 仕様概要

### 概要

ダイアレクト変換サービスは、ユーザーが指定したソースコードに含まれる特定のベンダーや製品に依存した方言（例：IBM COBOLの拡張構文、YPS-COBOLの日本語変数名）を、標準的な構文または指定されたターゲット言語の構文に自動的に変換する機能を提供する。変換前には、シミュレーション機能を実行し、変換にかかる時間、変換結果の予測、変換における問題点などを事前に確認できる。変換処理では、ソースコードの解析結果（AST、メタデータ、詳細解析データなど）を参照し、ダイアレクト部分を特定して、標準構文またはターゲット言語の構文に置き換える。変換後は、自動的にテストを実行し、変換前後の動作の同一性を検証する。テスト合格後、変換後のソースコードからプログラム仕様書を自動生成し、指定された場所に保存する。また、ユーザーの指示に基づき、変換前後のソースコード、プログラム仕様書、テスト結果をCI/CDパイプラインを用いて指定のコンテナプラットフォームにプッシュする機能を備える。

### 前提条件

-   ユーザーは、システムにログイン済みであり、ダイアレクト変換を実行する権限を有していること。
-   変換対象のソースコードが、アクセス可能な場所に保存されていること（ローカルファイルシステム、バージョン管理システムなど）。
-   変換対象のソースコードは、事前にソース解析サービスで解析済みであること。
-   変換に使用する変換ルールが、変換ルールマスタに登録されていること。
-   ターゲット言語のコンパイラやテストツールなどが、アプリケーションサーバーから利用可能な状態であること。

### 主要機能

1.  **プロジェクト管理**: ダイアレクト変換プロジェクトを作成し、変換対象のソースコード、ターゲット言語/構文、変換オプションなどを管理する。
2.  **ソースコード指定**: 変換対象のソースコードを、ファイルパス、ディレクトリ、またはバージョン管理システムのURLなどを用いて指定する。**単一ファイル、複数ファイルの一括指定、ディレクトリ指定、ワイルドカード指定からの指定など、柔軟な指定方法をサポートする。**
3.  **ターゲット言語/構文指定**: 変換先となる言語（例：標準COBOL）または構文を指定する。
4.  **変換オプション設定**: 変換オプション（例：最適化レベル、使用する変換ルール）を指定する。
5.  **依存関係指定**: 変換対象ソースコードが依存する外部ファイル（例：COBOLのCOPY句、C/C++のincludeファイル）のインポートパスを指定する。
6.  **変換シミュレーション**: 変換実行前に、処理時間、リソース使用量、変換結果の予測、変換における問題点などを事前に確認する。
7.  **変換実行**: 指定されたソースコードの変換を実行し、ダイアレクト部分を標準構文またはターゲット言語の構文に置き換える。
8.  **変換進捗のダッシュボード表示**: 変換処理の進捗状況をリアルタイムにダッシュボードに表示する。
9.  **AI/RAG/MLによる変換支援**: AI/RAG/MLサーバーを用いて、コード生成、リファクタリング、最適化などを支援する。
10. **変換結果のデータベース保存**: 変換結果（変換後ソースコード、変換ログ、テスト結果など）をデータベース（PostgreSQL、MongoDB）に保存する。
11. **変換結果のレビュー**: 変換結果（変換後ソースコード、テスト結果、ログなど）を、ツリービューやグラフなどでわかりやすく表示し、ユーザーがレビューできる。
12. **変換結果の手動修正**: ユーザーが、変換結果を直接編集できる機能を提供する。
13. **変換結果のテスト**: 変換後ソースコードに対して、自動的に単体テスト、結合テストを実行し、変換前後の動作の同一性を検証する。
14. **プログラム仕様書自動生成**: 変換後のソースコードからプログラム仕様書を自動生成する。
15. **変換結果のドキュメント出力**: 変換結果やテスト結果を、指定された形式（PDF、JSON、XML、CSVなど）でドキュメントとして出力する。
16. **変換履歴管理**: 変換履歴を管理し、過去の変換結果を参照・比較できる。
17. **エラーハンドリング**: 変換中に発生したエラーを適切に処理し、ユーザーに通知する。
18. **各種マスタとの連携**: 環境マスタ、変換ルールマスタ、テンプレートマスタなどの各種マスタと連携して動作する。
19. **CI/CDパイプライン連携**: 変換前ソースコード、変換後ソースコード、プログラム仕様書、テスト結果を、指定されたコンテナプラットフォームにプッシュする。

## ダイアレクト変換 機能仕様

### 機能詳細

#### 1. プロジェクト管理

-   **入力**:
    -   プロジェクト名
    -   説明（任意）
    -   ソースコード指定情報
    -   ターゲット言語/構文
    -   変換オプション
-   **出力**:
    -   作成されたプロジェクトのID
-   **処理内容**:
    -   ユーザーが、Webインターフェースを介して、新規プロジェクトの名前、説明、ソースコード指定情報、ターゲット言語/構文、変換オプションを入力する。
    -   アプリケーションサーバーは、入力された情報をもとに、新規プロジェクトを作成し、データベース(PostgreSQL)に保存する。その際、ログインユーザーの顧客情報をプロジェクトに紐づける。
    -   アプリケーションサーバーは、作成されたプロジェクトのIDをWebサーバー経由でユーザーに通知する。
    -   プロジェクト情報には、変換元ソースコードの情報、ターゲット言語/構文、関連するソース解析プロジェクトのID、および、変換ステータス（未着手、シミュレーション中、シミュレーション完了、変換中、変換完了、エラーなど）を含める。

#### 2. ソースコード指定

-   **入力**:
    -   ソースコードファイル（単一ファイルまたは複数ファイル）
    -   ファイルパス、ディレクトリ
-   **出力**:
    -   なし（指定情報をアプリケーションサーバーのメモリに保存）
-   **処理内容**:
    -   ユーザーが、Webインターフェースを介して、変換対象のソースコードを指定する。
    -   **単一ファイル、複数ファイルの一括指定、ディレクトリ指定、ワイルドカード指定からの指定など、柔軟な指定方法をサポートする。**
    -   アプリケーションサーバーは、指定されたソースコードを、ローカルファイルシステム、または、バージョン管理システムなどから取得する。

#### 3. ターゲット言語/構文指定

-   **入力**:
    -   ターゲット言語（例：標準COBOL）または構文
-   **出力**:
    -   なし（指定情報をアプリケーションサーバーのメモリに保存）
-   **処理内容**:
    -   ユーザーが、Webインターフェースを介して、変換先となる言語または構文を選択する。例えば、IBM COBOLの方言を標準COBOLに変換する、など。
    -   アプリケーションサーバーは、ユーザーが選択したターゲット言語/構文をメモリに保存する。

#### 4. 変換オプション設定

-   **入力**:
    -   変換オプション（例：特定の方言要素の変換方法、使用する変換ルール、AI/RAG/MLモデルの選択、詳細設定など）
-   **出力**:
    -   なし（設定情報をアプリケーションサーバーのメモリおよびプロジェクトに紐づけてデータベースに保存）
-   **処理内容**:
    -   ユーザーが、Webインターフェースを介して、変換オプションを設定する。例えば、特定の方言要素をどのように変換するか、どの変換ルールを適用するか、どのAI/RAG/MLモデルを使用するかなどを指定できる。
    -   アプリケーションサーバーは、設定された変換オプションをメモリに保存し、プロジェクト情報と関連付けてデータベース(PostgreSQL)に保存する。

#### 5. 依存関係指定

-   **入力**:
    -   インポートパス（ソースコードが依存する外部ファイルのパス）
-   **出力**:
    -   なし（指定情報をアプリケーションサーバーのメモリに保存）
-   **処理内容**:
    -   ユーザーが、Webインターフェースを介して、変換対象ソースコードが依存する外部ファイルのインポートパスを指定する。
    -   アプリケーションサーバーは、指定されたインポートパスをメモリに保存する。

#### 6. 変換シミュレーション

-   **入力**:
    -   プロジェクトID
    -   変換パラメータ設定でデータベースに保存された、以下保存内容
        -   変換対象ソースファイル
        -   ターゲット言語/構文
        -   変換オプション
        -   インポートパス
-   **出力**:
    -   変換処理をシミュレートし、処理進捗（シミュレーション、完了）画面上に結果出力（変換に必要な時間、問題点）、変換パラメータ設定画面へのリンク、変換実行のリンク、終了してメインメニューに戻るリンクを表示
    -   シミュレーション結果のデータベースへの記録
-   **処理内容**:
    -   ユーザーが、Webインターフェースを介して、設定した変換パラメータを画面上で確認し、シミュレーション開始を指示する。
    -   アプリケーションサーバーは、変換シミュレーション処理（実行時間の見積もり、リソース使用量の見積もり、潜在的な問題点の検出、変換結果のプレビュー生成など）を実施し、結果をデータベースに保存し、画面上に表示する。
    -   アプリケーションサーバーは、AI/RAG/MLサーバーと連携し、より高度なシミュレーションを行う。例えば、AI/RAG/MLサーバーは、変換によって発生する可能性のある問題を予測したり、変換結果の品質を評価したりする。
    -   ユーザーは、変換シミュレーションの結果を確認し、変換実施を指定するか、変換パラメータ指定に戻るか、終了してメインメニューに戻るかを選択できる。

#### 7. 変換実行

-   **入力**:
    -   プロジェクトID
    -   変換対象ソースファイル
    -   ターゲット言語/構文
    -   変換オプション
    -   インポートパス
-   **出力**:
    -   変換後ソースコード
    -   変換ログ
    -   テスト結果
    -   プログラム仕様書
-   **処理内容**:
    -   アプリケーションサーバーが、プロジェクトIDに関連付けられた変換パラメータをデータベースから取得する。
    -   アプリケーションサーバーが、ParserManagerを呼び出し、ソースコードとインポートパスを渡す。
    -   アプリケーションサーバーが、ソースコードの解析結果から、ダイアレクト部分を特定する。
    -   アプリケーションサーバーが、変換ルールマスタから取得した変換ルールおよびソースコードの解析結果（AST、メタデータ、詳細解析結果など）を用いて、ダイアレクト部分を標準構文またはターゲット言語の構文に変換する。
    -   アプリケーションサーバーが、必要に応じて、AI/RAG/MLサーバーを呼び出し、コード生成、リファクタリング、最適化などの支援を受ける。
    -   アプリケーションサーバーが、変換後のソースコードを指定されたフォーマットで出力する。
    -   アプリケーションサーバーが、変換後のソースコードを用いて、自動的にテストを実行し、変換前後の動作の同一性を検証する。
    -   アプリケーションサーバーが、テスト結果を取得する。
    -   アプリケーションサーバーが、テスト結果を元に、変換前後のソースコードの振る舞いを比較検証する。
    -   アプリケーションサーバーが、検証結果がNGの場合、変換処理を再実行する。リトライ回数に上限を設け、上限を超えた場合はエラーとして処理を終了する。
    -   アプリケーションサーバーが、テスト結果が全てOKとなった場合、変換後のソースコードからプログラム仕様書を自動生成する。
    -   アプリケーションサーバーが、変換後のソースコード、テスト結果、プログラム仕様書を、環境マスタで指定された所定の位置（ファイルサーバーなど）に保存する。
    -   アプリケーションサーバーが、変換処理の進捗状況を、PostgreSQLやMongoDBに記録し、Webサーバー経由でユーザーに表示する。
    -   アプリケーションサーバーが、変換処理の詳細なログ（例：変換日時、実行ユーザー、変換対象ソース、ターゲット言語/構文、適用した変換ルール、変換前後のコード差分、エラー情報）をMongoDBに記録する。
    -   アプリケーションサーバーが、変換処理中に発生したエラーを適切に処理し、エラー情報をログに記録し、Webサーバー経由でユーザーに通知する。

#### 8. 変換進捗のダッシュボード表示

-   **入力**:
    -   プロジェクトID
    -   変換進捗情報
-   **出力**:
    -   変換進捗状況のダッシュボード表示
-   **処理内容**:
    -   アプリケーションサーバーが、プロジェクトIDに関連付けられた変換処理の進捗状況（ダイアレクト変換ステータス、変換シミュレーション、AST変換、コード変換、変換完了など）をPostgreSQLから取得する。
    -   Webサーバーが、進捗情報を対象ソースコード毎に、わかりやすくダッシュボードに表示する。
    -   Webサーバーは、必要に応じて、進捗情報をリアルタイムに更新する。

#### 9. AI/RAG/MLによる変換支援

-   **入力**:
    -   ソースコード、AST、メタデータ、解析結果
    -   ターゲット言語/構文
    -   変換オプション
-   **出力**:
    -   変換支援結果（コード生成結果、リファクタリング提案、最適化提案など）
-   **処理内容**:
    -   アプリケーションサーバーが、AI/RAG/MLサーバーに、ソースコード、AST、メタデータ、解析結果、ターゲット言語/構文、変換オプションを送信する。
    -   AI/RAG/MLサーバーが、受け取った情報に基づき、変換支援処理（コード生成、リファクタリング提案、最適化提案など）を実行する。
    -   AI/RAG/MLサーバーが、必要に応じて、RAGモデルを用いて外部知識ベースを検索し、変換支援処理に活用する。
    -   AI/RAG/MLサーバーが、変換支援結果をアプリケーションサーバーに返す。

#### 10. 変換結果のデータベース保存

-   **入力**:
    -   プロジェクトID
    -   変換結果（変換後ソースコード、変換ログ、テスト結果など）
-   **出力**:
    -   なし（データベースに保存）
-   **処理内容**:
    -   アプリケーションサーバーが、プロジェクトIDと関連付けて、変換結果をPostgreSQL、MongoDBに保存する。
    -   アプリケーションサーバーが、変換後ソースコード、メタデータをPostgreSQLやMongoDBに保存する。
    -   アプリケーションサーバーが、変換ログをMongoDBに保存する。
    -   アプリケーションサーバーが、テスト結果をPostgreSQLに保存する。

#### 11. 変換結果のレビュー

-   **入力**:
    -   プロジェクトID
    -   変換結果
-   **出力**:
    -   なし
-   **処理内容**:
    -   Webサーバーが、プロジェクトIDに関連付けて、アプリケーションサーバー経由で変換結果（変換後ソースコード、テスト結果、ログなど）を取得する。
    -   Webサーバーが、変換後ソースコードを、構文ハイライトや変換前後比較などの機能を備えたビューアで表示する。
    -   Webサーバーが、テスト結果（テストの成否、カバレッジなど）を表示する。
    -   Webサーバーが、変換ログ（エラー、警告など）を表示する。
    -   ユーザーが、変換結果を確認し、必要に応じて修正やコメントを入力する。
    -   アプリケーションサーバーが、ユーザーからのフィードバックをデータベースに保存する。

#### 12. 変換結果の手動修正

-   **入力**:
    -   プロジェクトID
    -   変換結果（変換後ソースコード）
    -   ユーザーによる修正内容
-   **出力**:
    -   修正された変換後ソースコード
-   **処理内容**:
    -   Webサーバーが、プロジェクトIDに関連付けて、アプリケーションサーバー経由で変換結果（変換後ソースコード）をユーザーに提供する。
    -   Webサーバーは、ユーザーが変換結果を直接編集できるエディタを提供する。
    -   ユーザーが、エディタを用いて変換結果を修正する。
    -   アプリケーションサーバーが、修正された変換結果をデータベースに保存する。

#### 13. 変換結果のテスト

-   **入力**:
    -   プロジェクトID
    -   変換後ソースコード
    -   テストデータ
-   **出力**:
    -   テスト結果
-   **処理内容**:
    -   アプリケーションサーバーが、プロジェクトIDに関連付けられた変換後ソースコードとテストデータを、テスティングフレームワークに渡す。
    -   テスティングフレームワークが、単体テスト、結合テストを実行する。
    -   アプリケーションサーバーが、テスト結果を取得し、データベース(PostgreSQL)に保存する。
    -   アプリケーションサーバーは、AI/RAG/MLサーバーと連携し、テスト結果の分析や問題の特定を支援する。

#### 14. プログラム仕様書自動生成

-   **入力**:
    -   プロジェクトID
    -   変換後ソースコード
    -   解析結果
    -   テンプレートマスタ
-   **出力**:
    -   プログラム仕様書（指定されたフォーマット）
-   **処理内容**:
    -   アプリケーションサーバーが、プロジェクトIDに関連付けられた変換後ソースコード、解析結果、テンプレートマスタの設定を取得する。
    -   アプリケーションサーバーが、テンプレートマスタに定義されたフォーマットに従い、プログラム仕様書を生成する。
    -   アプリケーションサーバーは、AI/RAG/MLサーバーと連携し、解析結果や変換後ソースコードから、プログラム仕様書に含めるべき情報を抽出・生成する。例えば、ソースコードの要約、機能説明、入出力情報、データ構造、エラー処理、使用技術などの情報を自動的に生成し、仕様書に組み込むことができる。
    -   アプリケーションサーバーが、生成したプログラム仕様書を指定されたフォーマット（例：PDF, HTML）で出力する。

#### 15. 変換結果のドキュメント出力

-   **入力**:
    -   プロジェクトID
    -   解析結果
    -   変換結果
    -   テスト結果
    -   テンプレートマスタ
    -   出力フォーマット（PDF,JSON, XML, CSVなど）
-   **出力**:
    -   指定されたフォーマットのドキュメント
-   **処理内容**:
    -   アプリケーションサーバーが、プロジェクトIDに関連付けられた解析結果、変換結果、テスト結果、テンプレートマスタの設定を取得する。
    -   アプリケーションサーバーが、テンプレートマスタに定義されたフォーマットに従い、指定された形式（PDF, JSON, XML, CSVなど）でドキュメントを生成する。
    -   アプリケーションサーバーが、生成したドキュメントを出力する。
    -   Webサーバーが、出力されたドキュメントをユーザーに提供する。

#### 16. 変換履歴管理

-   **入力**:
    -   プロジェクトID
    -   変換日時、変換種別（ソース変換、DB変換、画面処理変換、フォーム処理変換、外部システム連携変換、ダイアレクト変換）、変換対象ソース・DB・画面定義・フォーム定義、変換パラメータ、ユーザーなどの情報
-   **出力**:
    -   変換履歴一覧
    -   変換履歴詳細
-   **処理内容**:
    -   アプリケーションサーバーが、変換の実行情報をプロジェクトIDと関連付けてPostgreSQLに記録する。
    -   Webサーバーが、ユーザーからの要求に応じて、変換履歴一覧や詳細情報を表示する。

#### 17. エラーハンドリング

-   **入力**:
    -   エラー情報（エラーメッセージ、エラーコード、発生箇所など）
-   **出力**:
    -   エラーメッセージ（ユーザー向け）
    -   エラーログ
-   **処理内容**:
    -   アプリケーションサーバーが、変換処理中に発生したエラーを検知する。
    -   アプリケーションサーバーが、エラー情報をログに記録する。
    -   アプリケーションサーバーが、エラーの原因を特定し、可能な場合は自動的に対処する。
    -   アプリケーションサーバーが、エラーメッセージを生成し、Webサーバー経由でユーザーに通知する。
    -   アプリケーションサーバーが、エラー発生時の状況を、プロジェクトのステータスとしてデータベース(PostgreSQL)に記録する。

#### 18. 各種マスタとの連携

-   **入力**:
    -   なし
-   **出力**:
    -   なし
-   **処理内容**:
    -   アプリケーションサーバーが、変換処理の実行に必要な情報を、各種マスタから取得する。
    -   アプリケーションサーバーが、環境マスタからインポートパスや、AI/RAG/MLサーバーの接続情報などの設定情報を取得する。
    -   アプリケーションサーバーが、変換ルールマスタから変換ルールを取得する。
    -   アプリケーションサーバーが、テンプレートマスタから、プログラム仕様書やテスト結果、変換結果のドキュメント出力のテンプレート情報を取得する。
    -   アプリケーションサーバーが、ダイアレクト基本マスタ、プロダクトマスタ、機能詳細マスタから、変換対象言語の方言情報を取得する。

#### 19. CI/CDパイプライン連携

-   **入力**:
    -   プロジェクトID
    -   変換前ソースコード
    -   変換後ソースコード
    -   画面定義情報
    -   フォーム定義情報
    -   プログラム仕様書
    -   テスト結果
    -   コンテナプラットフォーム情報（接続先、リポジトリ、認証情報など）
-   **出力**:
    -   なし（指定されたコンテナプラットフォームに成果物をプッシュ）
-   **処理内容**:
    -   アプリケーションサーバーが、ユーザーの指示に基づき、プロジェクトIDに関連付けられた変換前ソースコード、変換後ソースコード、画面定義情報、フォーム定義情報、プログラム仕様書、テスト結果を取得する。
    -   アプリケーションサーバーが、指定されたコンテナプラットフォーム（例：GitHub, GitLab, AWS, Azure DevOps）に接続する。
    -   アプリケーションサーバーが、取得した成果物を、指定されたリポジトリやブランチにプッシュする。
    -   アプリケーションサーバーは、プッシュの結果（成功、失敗）をログに記録し、Webサーバー経由でユーザーに通知する。

## ダイアレクト変換 画面仕様

### 1. ダイアレクト変換メイン画面

-   **画面要素**:
    -   **タイトル**: 「ダイアレクト変換」
    -   **プロジェクト管理**:
        -   **新規プロジェクト作成**: ボタン（新規プロジェクト作成画面へ遷移）
        -   **プロジェクト一覧**: テーブル（プロジェクト名、変換元言語/方言、変換先言語/構文、作成日時、ステータスなどを表示）
        -   **プロジェクト選択**: ドロップダウンリスト（操作対象プロジェクトを選択）
        -   **プロジェクト設定**: ボタン（選択したプロジェクトの設定画面へ遷移）
    -   **変換結果**: 表示エリア（変換結果のサマリ情報などを表示）
    -   **変換結果のエクスポート**: ボタン（エクスポート形式を選択するドロップダウンリスト付き）
    -   **変換履歴参照**: ボタン（変換履歴画面へ遷移）
    -   **ヘルプ**: リンク
-   **画面遷移**:
    -   **新規プロジェクト作成** ボタンクリックで、新規プロジェクト作成画面に遷移する。
    -   **プロジェクト設定** ボタンクリックで、選択したプロジェクトの設定画面に遷移する。
    -   **変換結果のエクスポート** ボタンクリックで、エクスポート処理を実行する。
    -   **変換履歴参照** ボタンクリックで、変換履歴画面に遷移する。
-   **表示情報**:
    -   選択されたプロジェクトの変換結果概要（変換されたソースコード数、エラー件数など）を表示する。
    -   ユーザーは、表示された情報をドリルダウンして詳細を確認できる。
    -   ユーザーは、表示する情報の種類やレイアウトをカスタマイズできる。

### 2. 新規プロジェクト作成画面

-   **画面要素**:
    -   **タイトル**: 「新規プロジェクト作成」
    -   **プロジェクト名**: テキストボックス
    -   **説明**: テキストエリア
    -   **顧客**: ドロップダウンリスト（顧客一覧から選択）
    -   **ソースコード**:
        -   **解析プロジェクト選択**: ドロップダウンリスト（解析済みプロジェクトを選択）
        -   **ソースコード選択**: テキストボックス（解析プロジェクト内のソースコードを直接指定）
    -   **変換先**: ドロップダウンリスト（標準構文, 他のCOBOLダイアレクト, Javaなどから選択）
    -   **作成** ボタン
    -   **キャンセル** ボタン
-   **画面遷移**:
    -   **作成** ボタンクリックで、プロジェクトを作成し、ダイアレクト変換メイン画面に遷移する。
    -   **キャンセル** ボタンクリックで、ダイアレクト変換メイン画面に遷移する。
-   **補足**:
    -   顧客は、ログインユーザーの情報から自動的に設定されるか、システム管理者が選択する。
    -   **解析プロジェクトの選択によって、変換可能なソースコードがフィルタリングされる。**

### 3. プロジェクト設定画面

-   **画面要素**:
    -   **タイトル**: 「プロジェクト設定」
    -   **プロジェクト名**: テキストボックス（編集可能）
    -   **説明**: テキストエリア（編集可能）
    -   **顧客名**: テキスト表示（読み取り専用）
    -   **ソースコード**:
        -   **解析プロジェクト選択**: ドロップダウンリスト（解析済みプロジェクトを選択）
        -   **ソースコード選択**: テキストボックス（解析プロジェクト内のソースコードを直接指定）
    -   **変換先**: ドロップダウンリスト（標準構文, 他のCOBOLダイアレクト, Javaなどから選択）
    -   **変換オプション設定**:
        -   **詳細設定**: ボタン（変換オプション詳細設定画面へ遷移）
        -   **インポートパス**: テキストボックス（環境マスタの設定値を表示、編集可能）
    -   **依存関係指定**:
        -   **インポートパス**: テキストボックス（環境マスタの設定値を表示、編集可能）
    -   **変換シミュレーション**: ボタン（変換シミュレーション画面へ遷移）
    -   **変換実行**: ボタン（変換実行画面へ遷移）
    -   **保存** ボタン
    -   **削除** ボタン
    -   **キャンセル** ボタン
-   **画面遷移**:
    -   **詳細設定** ボタンクリックで、変換オプション詳細設定画面に遷移する。
    -   **変換シミュレーション** ボタンクリックで、変換シミュレーション実行画面に遷移する。
    -   **変換実行** ボタンクリックで、変換実行画面に遷移する。
    -   **保存** ボタンクリックで、プロジェクト設定を更新し、ダイアレクト変換メイン画面に遷移する。
    -   **削除** ボタンクリックで、プロジェクトを削除し、ダイアレクト変換メイン画面に遷移する。
    -   **キャンセル** ボタンクリックで、ダイアレクト変換メイン画面に遷移する。
-   **補足**:
    -   プロジェクト名、説明は、プロジェクト作成後に変更可能とする。
    -   顧客名は、プロジェクト作成時に設定され、変更不可とする。
    -   **解析プロジェクトの選択によって、選択可能なソースコードがフィルタリングされる。**

### 4. 変換オプション詳細設定画面

-   **画面要素**:
    -   **タイトル**: 「変換オプション詳細設定」
    -   **変換対象の方言**: ドロップダウンリスト（例：IBM COBOL、富士通 COBOL）
    -   **変換オプション**: チェックボックスやテキストボックスなど（各方言要素の変換方法を指定）
        -   例：特定命令の置き換え方法、データ型のマッピング方法
    -   **AI/RAG/MLサーバー設定**:
        -   **利用するモデル**: ドロップダウンリスト（利用可能なモデルを表示）
        -   **生成パラメータ**: テキストボックス（温度パラメータ、トークン数など）
    -   **保存** ボタン
    -   **キャンセル** ボタン
-   **画面遷移**:
    -   **保存** ボタンクリックで、設定内容を保存し、プロジェクト設定画面に遷移する。
    -   **キャンセル** ボタンクリックで、プロジェクト設定画面に遷移する。
-   **補足**:
    -   **選択した変換対象の方言に応じて、設定可能な変換オプションが動的に変化する。**

### 5. 変換シミュレーション実行画面

-   **画面要素**:
    -   **タイトル**: 「変換シミュレーション実行」
    -   **実行** ボタン
    -   **進捗状況**: プログレスバー
    -   **キャンセル** ボタン
-   **画面遷移**:
    -   **実行** ボタンクリックで、シミュレーションを開始し、完了後、変換シミュレーション結果確認画面に遷移する。
    -   **キャンセル** ボタンクリックで、プロジェクト設定画面に遷移する。

### 6. 変換シミュレーション結果確認画面

-   **画面要素**:
    -   **タイトル**: 「変換シミュレーション結果」
    -   **サマリ情報**:
        -   **変換開始日時**: テキスト表示
        -   **変換終了日時**: テキスト表示
        -   **所要時間予測**: テキスト表示
        -   **変換後ソースコード行数予測**: テキスト表示
        -   **問題点予測数**: テキスト表示
    -   **変換パラメータ**:
        -   **変換対象ソース**: リスト表示
        -   **変換先**: テキスト表示
        -   **変換オプション**: リスト表示
    -   **シミュレーション結果詳細**:
        -   **予測所要時間**: テキスト表示、グラフ（各変換ステップの所要時間予測）
        -   **予測リソース使用量**: テキスト表示、グラフ（CPU、メモリ、ディスク使用量の予測）
        -   **検出された問題点**: テーブル（問題の種類、発生箇所、重大度、関連ソースコードへのリンクなどを表示）
        -   **AI/RAG/MLサーバーによる変換支援結果**: タブ（リファクタリング提案、最適化提案など）
        -   **実行ログ**: テキストエリア
    -   **操作ボタン**:
        -   **パラメータを修正して再シミュレーション** ボタン
        -   **変換実行** ボタン
        -   **閉じる** ボタン
-   **画面遷移**:
    -   **パラメータを修正して再シミュレーション** ボタンクリックで、変換パラメータ設定画面に遷移する。
    -   **変換実行** ボタンクリックで、変換処理を実行し、変換結果確認画面に遷移する。
    -   **閉じる** ボタンクリックで、プロジェクト設定画面に遷移する。
-   **補足**:
    -   **変換シミュレーション結果確認画面では、ユーザーが変換パラメータやオプションを調整し、再シミュレーションを実行できる。**
    -   **AI/RAG/MLサーバーによる変換支援結果タブでは、AIによるリファクタリング提案、最適化提案、コード生成結果などを確認できる。**

### 7. 変換実行画面

-   **画面要素**:
    -   **タイトル**: 「変換実行」
    -   **実行** ボタン
    -   **進捗状況**: プログレスバー
    -   **キャンセル** ボタン
-   **画面遷移**:
    -   **実行** ボタンクリックで、変換処理を開始し、完了後、変換結果確認画面に遷移する。
    -   **キャンセル** ボタンクリックで、プロジェクト設定画面に遷移する。

### 8. 変換結果確認画面

-   **画面要素**:
    -   **タイトル**: 「変換結果」
    -   **サマリ情報**:
        -   **変換開始日時**: テキスト表示
        -   **変換終了日時**: テキスト表示
        -   **所要時間**: テキスト表示
        -   **変換結果**: テキスト表示（成功、失敗）
        -   **成功件数**: テキスト表示
        -   **失敗件数**: テキスト表示
    -   **生成ファイル一覧**: テーブル（生成されたファイル名、ダウンロードリンクを表示）
        -   **変換後ソースコード**: ファイル名、ダウンロードリンク
    -   **エラーログ**: テキストエリア（エラーが発生した場合、エラーログを表示）
    -   **詳細レポート**: ダウンロードリンク
    -   **ソースコード比較**: ボタン（変換前後のソースコードを比較表示する画面へ遷移）
    -   **OK** ボタン
-   **画面遷移**:
    -   **ソースコード比較** ボタンクリックで、ソースコード比較画面へ遷移する。
    -   **OK** ボタンクリックで、ダイアレクト変換メインメニュー画面に遷移する。
-   **補足**:
    -   **変換結果確認画面では、ユーザーが生成されたファイル（変換後ソースコード）をダウンロードできる。**
    -   **エラーが発生した場合は、エラーログを参照し、問題点を特定する。**

### 9. 変換履歴参照画面

-   **画面要素**:
    -   **タイトル**: 「変換履歴参照」
    -   **検索条件**:
        -   **変換日時**: テキストボックス（範囲指定）
        -   **実行ユーザー**: テキストボックス
        -   **プロジェクト**: テキストボックス
        -   **変換元言語/方言**: ドロップダウンリスト
        -   **変換先言語/構文**: ドロップダウンリスト
        -   **変換結果**: ラジオボタン（成功、失敗、全て）
        -   **検索** ボタン
    -   **変換履歴一覧**: テーブル（検索結果を表示）
    -   **詳細** ボタン（選択した履歴の詳細画面に遷移）
    -   **閉じる** ボタン
-   **画面遷移**:
    -   **詳細** ボタンクリックで、選択した履歴の詳細画面に遷移する。
    -   **閉じる** ボタンクリックで、ダイアレクト変換メインメニュー画面に遷移する。

### 10. 変換履歴詳細画面

-   **画面要素**:
    -   **タイトル**: 「変換履歴詳細」
    -   **変換情報**:
        -   **変換日時**: テキスト表示
        -   **実行ユーザー**: テキスト表示
        -   **プロジェクト**: テキスト表示
        -   **変換元言語/方言**: テキスト表示
        -   **変換先言語/構文**: テキスト表示
        -   **変換オプション**: テキスト表示
        -   **変換結果**: テキスト表示（成功、失敗）
        -   **メッセージ**: テキスト表示
    -   **生成ファイル一覧**: テーブル（生成されたファイル名、ダウンロードリンクを表示）
    -   **エラーログ**: テキストエリア（エラーが発生した場合、エラーログを表示）
    -   **詳細レポート**: ダウンロードリンク
    -   **ソースコード比較**: ボタン（変換前後のソースコードを比較表示する画面へ遷移）
    -   **戻る** ボタン
-   **画面遷移**:
    -   **ソースコード比較** ボタンクリックで、ソースコード比較画面へ遷移する。
    -   **戻る** ボタンクリックで、変換履歴参照画面に遷移する。

### 11. ソースコード比較画面

-   **画面要素**:
    -   **タイトル**: 「ソースコード比較」
    -   **変換前ソースコード**: 表示エリア（構文ハイライト付き）
    -   **変換後ソースコード**: 表示エリア（構文ハイライト付き）
    -   **差分表示**: 差分をハイライト表示
    -   **同期スクロール**: チェックボックス（両方のエリアを同期してスクロールするかどうか）
    -   **戻る** ボタン
-   **画面遷移**:
    -   **戻る** ボタンクリックで、変換結果確認画面または変換履歴詳細画面に戻る。


