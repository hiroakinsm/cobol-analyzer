メトリクス検証ルール定義

1. 複雑度メトリクス
1.1 循環的複雑度 (Cyclomatic Complexity)
RULE_CYC_001: プログラムレベル複雑度
良好: 1-10
要注意: 11-20
警告: 21-50
危険: 51以上
RULE_CYC_002: セクションレベル複雑度
良好: 1-5
要注意: 6-10
警告: 11-20
危険: 21以上
RULE_CYC_003: パラグラフレベル複雑度
良好: 1-3
要注意: 4-7
警告: 8-15
危険: 16以上

1.2 Halstead Metrics
RULE_HAL_001: プログラムボリューム
良好: < 1000
要注意: 1000-2000
警告: 2001-4000
危険: > 4000
RULE_HAL_002: プログラム難度
良好: < 15
要注意: 15-30
警告: 31-50
危険: > 50
RULE_HAL_003: プログラム労力
良好: < 100000
要注意: 100000-200000
警告: 200001-500000
危険: > 500000

1.3 認知的複雑度
RULE_COG_001: ネスト深度
良好: 1-3レベル
要注意: 4レベル
警告: 5-6レベル
危険: 7レベル以上
RULE_COG_002: 制御フロー複雑度
良好: 1-5
要注意: 6-10
警告: 11-15
危険: 16以上
RULE_COG_003: データフロー複雑度
良好: 1-10
要注意: 11-20
警告: 21-30
危険: 31以上

2. 品質メトリクス
2.1 保守性指標
RULE_MAIN_001: 保守性指数
優良: > 85
良好: 65-85
要注意: 45-64
警告: < 45
RULE_MAIN_002: コメント率
優良: > 30%
良好: 20-30%
要注意: 10-19%
警告: < 10%
RULE_MAIN_003: コードの重複度
良好: < 5%
要注意: 5-10%
警告: 11-20%
危険: > 20%

2.2 テスト容易性
RULE_TEST_001: 入力パラメータ数
良好: 1-3
要注意: 4-5
警告: 6-7
危険: 8以上
RULE_TEST_002: 出力パラメータ数
良好: 1-2
要注意: 3-4
警告: 5-6
危険: 7以上
RULE_TEST_003: 分岐網羅率要件
優良: > 90%
良好: 80-90%
要注意: 60-79%
警告: < 60%

2.3 モジュール性
RULE_MOD_001: セクション独立度
良好: > 80%
要注意: 60-80%
警告: 40-59%
危険: < 40%
RULE_MOD_002: 凝集度
優良: 機能的凝集
良好: 情報的凝集
要注意: 時間的凝集
警告: 論理的凝集以下
RULE_MOD_003: 結合度
良好: データ結合のみ
要注意: スタンプ結合
警告: 制御結合
危険: 共通結合以上

3. パフォーマンスメトリクス（続き）
3.1 メモリ使用
RULE_MEM_001: ワーキングストレージサイズ
良好: < 1MB
要注意: 1-5MB
警告: 5-10MB
危険: > 10MB
RULE_MEM_002: 一時領域使用量
良好: < 500KB
要注意: 500KB-2MB
警告: 2-5MB
危険: > 5MB
RULE_MEM_003: リンケージセクションサイズ
良好: < 100KB
要注意: 100-500KB
警告: 500KB-1MB
危険: > 1MB

3.2 実行効率
RULE_PERF_001: ファイル入出力操作数
良好: < 100/セクション
要注意: 100-200/セクション
警告: 201-500/セクション
危険: > 500/セクション
RULE_PERF_002: SORT/MERGE操作
良好: < 5/プログラム
要注意: 5-10/プログラム
警告: 11-20/プログラム
危険: > 20/プログラム
RULE_PERF_003: テーブル操作効率
良好: インデックス付き
要注意: バイナリサーチ
警告: リニアサーチ
危険: 非効率なネストループ

3.3 リソース利用
RULE_RES_001: ファイルハンドル数
良好: < 5
要注意: 5-10
警告: 11-15
危険: > 15
RULE_RES_002: 同時オープンファイル数
良好: < 3
要注意: 3-5
警告: 6-8
危険: > 8
RULE_RES_003: 外部プログラム呼び出し数
良好: < 10/プログラム
要注意: 10-20/プログラム
警告: 21-30/プログラム
危険: > 30/プログラム

4. スケーラビリティメトリクス
4.1 データ処理量
RULE_SCAL_001: レコード処理能力
良好: < 100,000レコード
要注意: 100,000-500,000レコード
警告: 500,001-1,000,000レコード
危険: > 1,000,000レコード
RULE_SCAL_002: メモリスケーラビリティ
良好: 線形増加
要注意: 対数的増加
警告: 指数的増加
危険: 急激な指数的増加
RULE_SCAL_003: 処理時間スケーラビリティ
良好: O(n)
要注意: O(n log n)
警告: O(n²)
危険: O(n³)以上

4.2 並行処理
RULE_CONC_001: 共有リソースアクセス数
良好: < 5
要注意: 5-10
警告: 11-20
危険: > 20
RULE_CONC_002: 排他制御ブロック数
良好: < 3/セクション
要注意: 3-5/セクション
警告: 6-10/セクション
危険: > 10/セクション
RULE_CONC_003: デッドロックポテンシャル
良好: リソース順序付け実施
要注意: 部分的順序付け
警告: 順序付けなし
危険: 循環依存あり

4.3 拡張性
RULE_EXT_001: モジュール依存度
良好: < 5つの外部依存
要注意: 5-10の外部依存
警告: 11-15の外部依存
危険: > 15の外部依存
RULE_EXT_002: インターフェース複雑度
良好: < 10パラメータ
要注意: 10-20パラメータ
警告: 21-30パラメータ
危険: > 30パラメータ
RULE_EXT_003: 設定依存度
良好: < 5つの環境依存
要注意: 5-10の環境依存
警告: 11-20の環境依存
危険: > 20の環境依存